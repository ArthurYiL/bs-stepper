{"version":3,"file":"bs-stepper.js","sources":["../../src/js/polyfill.js","../../src/js/util.js","../../src/js/listeners.js","../../src/js/index.js"],"sourcesContent":["let matches = window.Element.prototype.matches\nlet closest = (element, selector) => element.closest(selector)\nlet WinEvent = (inType, params) => new window.Event(inType, params)\n\nif (!window.Element.prototype.matches) {\n  matches = window.Element.prototype.msMatchesSelector ||\n    window.Element.prototype.webkitMatchesSelector\n}\n\nif (!window.Element.prototype.closest) {\n  closest = (element, selector) => {\n    if (!document.documentElement.contains(element)) {\n      return null\n    }\n\n    do {\n      if (matches.call(element, selector)) {\n        return element\n      }\n\n      element = element.parentElement || element.parentNode\n    } while (element !== null && element.nodeType === 1)\n\n    return null\n  }\n}\n\nif (!window.Event || typeof window.Event !== 'function') {\n  WinEvent = (inType, params) => {\n    params = params || {}\n    const e = document.createEvent('Event')\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable))\n    return e\n  }\n}\n\nexport {\n  closest,\n  WinEvent\n}\n","import { WinEvent } from './polyfill'\n\nconst MILLISECONDS_MULTIPLIER = 1000\nconst Selectors = {\n  STEPS: '.step',\n  LINK: 'a',\n  STEPPER: '.bs-stepper'\n}\n\nconst ClassName = {\n  ACTIVE: 'active',\n  LINEAR: 'linear',\n  BLOCK: 'dstepper-block',\n  NONE: 'dstepper-none',\n  FADE: 'fade'\n}\n\nconst transitionEndEvent = 'transitionend'\nconst customProperty = 'bsStepper'\n\nconst showStep = (step, stepList) => {\n  if (step.classList.contains(ClassName.ACTIVE)) {\n    return\n  }\n\n  const activeStep = stepList.filter(step => step.classList.contains(ClassName.ACTIVE))\n  if (activeStep.length) {\n    activeStep[0].classList.remove(ClassName.ACTIVE)\n  }\n\n  step.classList.add(ClassName.ACTIVE)\n}\n\nconst showContent = (content, contentList) => {\n  if (content.classList.contains(ClassName.ACTIVE)) {\n    return\n  }\n\n  function complete () {\n    content.classList.add(ClassName.BLOCK)\n    content.removeEventListener(transitionEndEvent, complete)\n  }\n\n  const activeContent = contentList.filter(content => content.classList.contains(ClassName.ACTIVE))\n  if (activeContent.length) {\n    activeContent[0].classList.remove(ClassName.ACTIVE)\n    activeContent[0].classList.remove(ClassName.BLOCK)\n  }\n\n  if (content.classList.contains(ClassName.FADE)) {\n    content.classList.remove(ClassName.NONE)\n    const duration = getTransitionDurationFromElement(content)\n    content.addEventListener(transitionEndEvent, complete)\n    if (activeContent.length) {\n      activeContent[0].classList.add(ClassName.NONE)\n    }\n\n    content.classList.add(ClassName.ACTIVE)\n    emulateTransitionEnd(content, duration)\n  } else {\n    content.classList.add(ClassName.ACTIVE)\n  }\n}\n\nconst getTransitionDurationFromElement = element => {\n  if (!element) {\n    return 0\n  }\n\n  // Get transition-duration of the element\n  let transitionDuration = window.getComputedStyle(element).transitionDuration\n  const floatTransitionDuration = parseFloat(transitionDuration)\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration) {\n    return 0\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0]\n\n  return parseFloat(transitionDuration) * MILLISECONDS_MULTIPLIER\n}\n\nconst emulateTransitionEnd = (element, duration) => {\n  let called = false\n  const durationPadding = 5\n  const emulatedDuration = duration + durationPadding\n  function listener () {\n    called = true\n    element.removeEventListener(transitionEndEvent, listener)\n  }\n\n  element.addEventListener(transitionEndEvent, listener)\n  window.setTimeout(() => {\n    if (!called) {\n      element.dispatchEvent(WinEvent(transitionEndEvent))\n    }\n  }, emulatedDuration)\n}\n\nconst detectAnimation = (contentList, animation) => {\n  if (animation) {\n    contentList.forEach(content => {\n      content.classList.add(ClassName.FADE)\n      content.classList.add(ClassName.NONE)\n    })\n  }\n}\n\nexport {\n  showContent,\n  showStep,\n  Selectors,\n  ClassName,\n  customProperty,\n  detectAnimation\n}\n","import { closest } from './polyfill'\r\nimport { Selectors, customProperty, showStep, showContent } from './util'\r\n\r\nfunction clickStepLinearListener (event) {\r\n  event.preventDefault()\r\n}\r\n\r\nfunction clickStepNonLinearListener (event) {\r\n  event.preventDefault()\r\n\r\n  const step = closest(event.target, Selectors.STEPS)\r\n  if (step) {\r\n    const stepperNode = closest(step, Selectors.STEPPER)\r\n    const stepper = stepperNode[customProperty]\r\n\r\n    const stepIndex = stepper._steps.indexOf(step)\r\n    stepper._currentIndex = stepIndex\r\n    showStep(step, stepper._steps)\r\n    showContent(stepper._stepsContents[stepIndex], stepper._stepsContents)\r\n  }\r\n}\r\n\r\nexport {\r\n  clickStepLinearListener,\r\n  clickStepNonLinearListener\r\n}\r\n","import { showContent, showStep, Selectors, ClassName, customProperty, detectAnimation } from './util'\nimport { clickStepLinearListener, clickStepNonLinearListener } from './listeners'\n\nconst DEFAULT_OPTIONS = {\n  linear: true,\n  animation: false\n}\n\nclass Stepper {\n  constructor (element, _options = {}) {\n    this._element = element\n    this._currentIndex = 0\n    this._stepsContents = []\n    this._steps = [].slice.call(this._element.querySelectorAll(Selectors.STEPS))\n      .filter(step => step.hasAttribute('data-target'))\n\n    this._steps.forEach(step => {\n      this._stepsContents.push(\n        this._element.querySelector(step.getAttribute('data-target'))\n      )\n    })\n\n    this.options = {\n      ...DEFAULT_OPTIONS,\n      ..._options\n    }\n\n    if (this.options.linear) {\n      this._element.classList.add(ClassName.LINEAR)\n    }\n\n    detectAnimation(this._stepsContents, this.options.animation)\n    if (this._steps.length) {\n      showStep(this._steps[this._currentIndex], this._steps)\n      showContent(this._stepsContents[this._currentIndex], this._stepsContents)\n    }\n\n    this._setLinkListeners()\n    Object.defineProperty(this._element, customProperty, {\n      value: this,\n      writable: true\n    })\n  }\n\n  // Private\n\n  _setLinkListeners () {\n    this._steps.forEach(step => {\n      const link = step.querySelector(Selectors.LINK)\n      if (this.options.linear) {\n        link.addEventListener('click', clickStepLinearListener)\n      } else {\n        link.addEventListener('click', clickStepNonLinearListener)\n      }\n    })\n  }\n\n  // Public\n\n  next () {\n    this._currentIndex = (this._currentIndex + 1) <= this._steps.length - 1 ? this._currentIndex + 1 : (this._steps.length - 1)\n\n    showStep(this._steps[this._currentIndex], this._steps)\n    showContent(this._stepsContents[this._currentIndex], this._stepsContents)\n  }\n\n  previous () {\n    this._currentIndex = (this._currentIndex - 1) >= 0 ? this._currentIndex - 1 : 0\n\n    showStep(this._steps[this._currentIndex], this._steps)\n    showContent(this._stepsContents[this._currentIndex], this._stepsContents)\n  }\n\n  reset () {\n    this._currentIndex = 0\n    showStep(this._steps[this._currentIndex], this._steps)\n    showContent(this._stepsContents[this._currentIndex], this._stepsContents)\n  }\n\n  destroy () {\n    this._steps.forEach(step => {\n      const link = step.querySelector(Selectors.LINK)\n      if (this.options.linear) {\n        link.removeEventListener('click', clickStepLinearListener)\n      } else {\n        link.removeEventListener('click', clickStepNonLinearListener)\n      }\n    })\n\n    delete this._element[customProperty]\n    this._element = undefined\n    this._currentIndex = undefined\n    this._steps = undefined\n    this._stepsContents = undefined\n  }\n}\n\nexport default Stepper\n"],"names":["matches","window","Element","prototype","closest","element","selector","WinEvent","inType","params","Event","msMatchesSelector","webkitMatchesSelector","document","documentElement","contains","call","parentElement","parentNode","nodeType","e","createEvent","initEvent","Boolean","bubbles","cancelable","MILLISECONDS_MULTIPLIER","Selectors","STEPS","LINK","STEPPER","ClassName","ACTIVE","LINEAR","BLOCK","NONE","FADE","transitionEndEvent","customProperty","showStep","step","stepList","classList","activeStep","filter","length","remove","add","showContent","content","contentList","complete","removeEventListener","activeContent","duration","getTransitionDurationFromElement","addEventListener","emulateTransitionEnd","transitionDuration","getComputedStyle","floatTransitionDuration","parseFloat","split","called","durationPadding","emulatedDuration","listener","setTimeout","dispatchEvent","detectAnimation","animation","forEach","clickStepLinearListener","event","preventDefault","clickStepNonLinearListener","target","stepperNode","stepper","stepIndex","_steps","indexOf","_currentIndex","_stepsContents","DEFAULT_OPTIONS","linear","Stepper","_options","_element","slice","querySelectorAll","hasAttribute","push","querySelector","getAttribute","options","_setLinkListeners","Object","defineProperty","value","writable","link","next","previous","reset","destroy","undefined"],"mappings":"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"}